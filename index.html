<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <!-- import CSS -->
  <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
  <!-- <link rel="stylesheet" href="./css/element_ui_index.css"> -->
  <link rel="stylesheet" href="./css/ApiDifference.css">
  <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
</head>
<body style="background-color: #f5f6fc;margin: 0;">
  <div id="app">
  <div id="banner" style="height: 480px;">
  	<div style="position: relative;margin: 0px auto 10px;top: -11%;">
  		<a href="http://bigcode.fudan.edu.cn/kg/index.html#/" style="color: #ffffff;text-decoration:none;">API Comparison</a>
	</div>
	<a href="http://bigcode.fudan.edu.cn/kg/index.html#/" style="text-decoration:none;">
		<el-button id="recently_apis" icon="el-icon-s-home" type="primary" style="position: absolute;left: 11px;top: 16px;z-index: 10000;padding: 12px;" plain>Back to Home</el-button>
	</a>
  	<p style="font-size: 18px;color: rgba(255, 255, 255, 0.8);line-height: 22px;width: 57%;text-align: justify;margin: 0px auto;font-family: inherit;top: -30.8%;position: relative;">
  		We propose a knowledge graph-based approach APIComp that automatically extracts API comparison knowledge from API reference documentation to support the comparison of a pair of API classes or methods from different aspects.
  		<br/>
  		<br/>
		<b style="color: rgba(245,108,108, 1);">Concept Classification:</b> Describe that an API element is an instance of a category by concept.
		<br/>
		<b style="color: rgba(230,162,60, 1);">Membership:</b> Describe that an API element belongs to a category.
		<br/>
		<b style="color: rgba(103,194,58, 1);">characteristic:</b> Describe the characteristics of an API element, its property or compare the characteristics of two API elements, their properties or functionalities.
		<br/>
		<b style="color: rgba(64,158,255, 1);">functionality:</b> Describe what an API element can or can not do, or compare the functionalities of two API elements by three relations. (equivalent to, similar to, different from)
	</p>
  </div>
  <div id="content">
	<div id="button-block">
		<div style="margin-right: 1.3%;">
	      <input type="text" id="input-query" placeholder="api_1_name" class="search" name="rank_1" v-model="api_1" style="background: #fff;min-width: 240px;margin: 20px 0 0 10px;">
	      <input type="text" id="input_number_or_class" placeholder="api_2_name" class="search" name="rank_1" v-model="api_2" style="background: #fff;min-width: 240px;margin: 20px 0 0 10px;">
	    </div>
	    <div>
	       <!-- 这个是有select的代码 -->
	       <!-- <el-select
	  	       v-model="value" 
	  	       @change="change_search"
	  	       placeholder="请选择">
  		    <el-option
  		      v-for="item in options"
  		      :key="item.value"
  		      :label="item.label"
  		      :value="item.value">
  		    </el-option>
  		  </el-select>
	      <input class="btn search" type="button" value="Search" id="search" style="color: #fff;" @click="display_loading">
	      <input class="btn search" type="button" value="Example1" style="color: #fff;" id="example1" @click="example1">
	      <input class="btn search" type="button" value="Example2" style="color: #fff;" id="example2" @click="example2"> -->
	      <!-- 这个是没有select的代码 -->
	      <input class="btn search" type="button" value="Search" id="search" style="color: #fff;margin-top: 13px;" @click="display_loading">
	      <input class="btn search" type="button" value="Example1" style="color: #fff;margin-top: 13px;" id="example1" @click="example1">
	      <input class="btn search" type="button" value="Example2" style="color: #fff;margin-top: 13px;" id="example2" @click="example2">
	    </div>
	</div>
  </div>
  <div>
     <div ref="loading" v-bind:class="{search_api_difference_hidden:isActive}" style="text-align: center;font-size: 26px;">{{loading}}</div>
  </div>
  	<!-- 处理两个api的共同部分 -->
    <div ref="sameTable" style="width: 70%;margin: 0 auto;display: none;">
		<el-table
	      :data="tableDataSame"
	      :row-class-name="change_class_type"
	      :span-method="arraySpanMethod"
	      :tree-props="{children: 'children'}"
	      row-key="id"
	      border
	      default-expand-all
	      empty-text="have no data"
	      style="width: 100%; margin-top: 20px;font-size: 17px;">
	      <el-table-column
	        :label="api_1">
	       	  <template slot-scope="scope">
		        <el-popover trigger="hover" placement="top">
		        	<ol v-if='scope.row.same && scope.row.api_1_source != "" && scope.row.api_2_source != ""'>
		        		<li v-for="api_1_single_source in scope.row.api_1_source">{{api_1_single_source}}</li>
		        		<li v-for="api_2_single_source in scope.row.api_2_source">{{api_2_single_source}}</li>
		        	</ol>
		        	<ol v-else-if="scope.row.same && scope.row.api_1_source != ''">
		        		<li v-for="api_1_single_source in scope.row.api_1_source">{{api_1_single_source}}</li>
		        	</ol>
		        	<ol v-else-if="scope.row.same && scope.row.api_2_source != ''">
		        		<li v-for="api_1_single_source in scope.row.api_1_source">{{api_2_single_source}}</li>
		        	</ol>
		        	<ol v-else-if="scope.row.api_1_source != ''">
		        		<li v-for="api_1_single_source in scope.row.api_1_source">{{api_1_single_source}}</li>
		        	</ol>
		        	<div v-else style="height: 25px;"></div>
		          <!-- <p v-if='scope.row.same == "false"'>{{ scope.row.api_1_source }}</p>
		          <p v-else>{{ scope.row.api_1_source }}<br/> {{ scope.row.api_2_source }}</p> -->
		            <div slot="reference" class="name-wrapper" v-if='scope.row.just_merge'>
		          	  {{ scope.row.api_1_name }}
		            </div>
		            <div slot="reference" class="name-wrapper" v-else>
		            	{{ scope.row.api_1_name }}
		            </div>
<!-- 		          <div slot="reference" class="name-wrapper" v-if="scope.row.api_1_source != ''">
		          	{{ scope.row.api_1_name }}
		          </div>
		          <div slot="reference" class="name-wrapper" v-else-if="scope.row.api_2_source != ''">
		          	{{ scope.row.api_1_name }}
		          </div>
		          <div class="name-wrapper" v-else>
		          	{{ scope.row.api_1_name }}
		          </div> -->
		        </el-popover>
		      </template>
	      </el-table-column>
	      <el-table-column
	        :label="api_2">
	        <template slot-scope="scope">
		        <el-popover trigger="hover" placement="top">
		        	<ol v-if='scope.row.api_2_source != ""'>
		        		<li v-for="api_2_single_source in scope.row.api_2_source">{{api_2_single_source}}</li>
		        	</ol>
		        	<div v-else style="height: 25px;"></div>
		        	<!-- div slot="reference" class="name-wrapper" v-if="scope.row.api_2_source != ''">
		          	  {{ scope.row.api_2_name }}
		            </div>
		            <div class="name-wrapper" v-else>
		          	  {{ scope.row.api_2_name }}
		            </div> -->
		          <!-- <p>{{ scope.row.api_2_source }}</p> -->
		          <div slot="reference" class="name-wrapper">
		          	{{ scope.row.api_2_name }}
		          </div>
		        </el-popover>
		      </template>
	      </el-table-column>
	    </el-table>
    </div>
    <div ref="presentation" style="position: fixed; bottom: 19px;  width: 150px; right: 15px;text-align: center;color: #606266;display: none;">
    	<div class="categoryList_Concept_Classification" style="line-height: 30px;margin-bottom: 5px;border-radius: 20px;">concept classification</div>
    	<div class="categoryList_Membership" style="line-height: 30px;margin-bottom: 5px;border-radius: 20px;">membership</div>
    	<div class="characteristic" style="line-height: 30px;margin-bottom: 5px;border-radius: 20px;">characteristic</div>
    	<div class="functionality" style="line-height: 30px;margin-bottom: 5px;border-radius: 20px;">functionality</div>
    </div>
    <!-- 分别处理两个api的不同部分 -->
    <div style="width: 70%;margin: 30px auto;">
    	<div ref="api1Table" style="width: 44%;margin: auto;margin-left:3%;display: none;">
    		<el-table
		      :data="tableDataDifferenceApi1"
		      :row-class-name="change_class_type"
		      :span-method="arraySpanMethod"
		      :tree-props="{children: 'children'}"
		      border
		      empty-text="have no data"
		      style="width: 100%; margin-top: 20px;font-size: 17px;">
		      <el-table-column
		        prop="api_1_name"
		        :label="api_1">
		        <template slot-scope="scope">
			        <el-popover trigger="hover" placement="top">
			        	<ol v-if="scope.row.api_1_source != ''">
			        		<li v-for="api_1_single_source in scope.row.api_1_source">{{api_1_single_source}}</li>
			        	</ol>
			        	<div v-else style="height: 25px;"></div>
			          <!-- <p>{{ scope.row.api_1_source }}</p> -->
			          <div slot="reference" class="name-wrapper">
			          	{{ scope.row.api_1_name }}
			          </div>
			        </el-popover>
			      </template>
		      </el-table-column>
		    </el-table>
    	</div>
    	<div ref="api2Table" style="width: 44%;margin: auto;float:right;margin-right:3%;display: none;">
    		<el-table
		      :data="tableDataDifferenceApi2"
		      :row-class-name="change_class_type"
		      :span-method="arraySpanMethod"
		      :tree-props="{children: 'children'}"
		      border
		      empty-text="have no data"
		      style="width: 100%; margin-top: 20px;font-size: 17px;">
		      <el-table-column
		        prop="api_2_name"
		        :label="api_2">
		        <template slot-scope="scope">
			        <el-popover trigger="hover" placement="top">
			        	<ol v-if="scope.row.api_2_source != ''">
			        		<li v-for="api_2_single_source in scope.row.api_2_source">{{api_2_single_source}}</li>
			        	</ol>
			        	<div v-else style="height: 25px;"></div>
			          <!-- <p>{{ scope.row.api_2_source }}</p> -->
			          <div slot="reference" class="name-wrapper">
			          	{{ scope.row.api_2_name }}
			          </div>
			        </el-popover>
			      </template>
		      </el-table-column>
		    </el-table>
    	</div>
    </div>
  </div>
</body>
  <!-- import Vue before Element -->
  <script src="./js/vue.min.js"></script>
  <!-- import JavaScript -->
  <script src="./js/element_ui_index.js"></script>
  <script src="./js/ApiDifference.js"></script>
</html>